<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>preview</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://www.baidu.com/cache/icon/favicon.ico">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
</head>
<body>
<h1 class="header">page B</h1>

<input type="text" id="inp" value="some contents..">
<button onclick="send()">send</button>

<script>
    window.addEventListener('message', function(ev) {
        // if (ev.source !== window.parent) {return;}
        var data = ev.data;
        console.info('message from parent:', data);
    }, false);

    function send() {
        var data = document.querySelector('#inp').value;
        // window.postMessage(data, '*'); // 触发当前页面的message事件
        parent.postMessage(data, '*'); // 触发父页面的message事件
        // parent.postMessage(data, 'http://localhost:9011/'); // 若父页面的域名和指定的不一致，则postMessage失败
    }
</script>
</body>
</html>